# SSK---small-simple-kernel
## **Описание**
Это простейшее ядро на ассемблер nasm с открытым исходным кодом с помощью которого можно написать свою полноценную ОС
## **Установка и использование**
вы сразу можете запустить ядро(SSK/bin/kernel.bin) через любой загрузчик по типу **GRUB**,
или запустить вс через эмулятор такой как **qemu**

Команда запуска ядра через qemu:
```bash
qemu-system-i386 kernel.bin -monitor stdio
```
Но функцианал выходит давольно слабым,
Я предлагаю скачать исходники из папки src самому добавить свои функции,
и в итоге скомпилировать ядро самому!

Для начала разберёмся какие и зачем нужны файлы:

`config.asm` - здесь прописаны все тексты которые пояфляются в системе(приветствие, прощание, вид стрелочки в командной строке).
Также в этом файле есть две функции `on_start` и `always`, первая функция выполняет ваш код на ассемблере при запуске системы.
Вторая соответственно выполняет код постоянно.


`commands.asm` - в нём написаны переменые с текстом которых запускаются некие команды.

Например:
```assembler
call1_command: db "call1", 0
```
И сам код команды:
``` assembler
call1:
	;ваш код
	jmp done
```
Функция done обеспечивает выхот из команды/под программы.

к файлу подключён файл `custom.asm`.
В нём пишуться свои функции и их можно подключать для различных задач из файла `commands.asm`.

в файле `check_the_input.asm` проверяется то, что введенно пользователем.
Что бы добавить свою команду написаную в commands.asm нужно ввести следуйщий.
Для примера возьмём рание использоваемую в примере команду call1:
``` assembler
    mov si, call1_command      ; в si загружаем заранее подготовленное слово call1
    mov bx, input             ; а в bx - сам ввод
    call compare_strs_si_bx   ; сравниваем si и bx (введено ли call1)

    cmp cx, 1                 ; compare_strs_si_bx загружает в cx 1, если
                              ; строки равны друг другу
    je call1  
```

мы написали свои функции и команды для ядра, перейдём к компиляции.

Но перед этим давайте разберёмся в других файлах:
`main.asm` - главный файл ядра
В остальных файлах написаны функции для работы с процессором из под ядра.

список функций:
`print_string_si` - вывод в терминал, аргумент(текст для вывода) записывается в регистр si.
`get_input` - получение даных от пользователя(то, что ввёл пользователь записывается в буффер input)
`compare_strs_si_bx` - сравнение строк(регистры si,bx - строки которые хотим сравнить, cx - результат сравнения, 1 - строки одинаковы, 0 - разные)

Вернёмся к компиляции и скомпилируем ядро:
```
nasm -f bin main.asm -o kernel.bin
```
